!function(a,b){"use strict";b.bindingHandlers.arrow={init:function(c,d){function k(c){var e,d=c.which;if(40===d)e=m(),e.focusedItem.length?(e.focusedItem.removeClass(j),e.focusedItemPosition<l().length-1&&(e.focusedItemPosition+=1),a(l()[e.focusedItemPosition]).addClass(j)):l().length&&l().first().addClass(j);else if(38===d)c.preventDefault(),e=m(),e.focusedItem.length&&(e.focusedItem.removeClass(j),e.focusedItemPosition>0&&(e.focusedItemPosition-=1),a(l()[e.focusedItemPosition]).addClass(j));else if(13===d&&(e=m(),e.focusedItem.length)){var g=b.dataFor(e.focusedItem[0]);g.isSelected(!g.isSelected())}}function l(){return h.parent().find("ul.list").first().find("li")}function m(){var b,c=l().filter(function(c){return a(this).hasClass(j)?(b=c,!0):void 0});return{focusedItem:c,focusedItemPosition:b}}function n(){l().removeClass(j)}var g=b.utils.unwrapObservable(d()),h=a(c),j=(g.list,"has-focus");h.on("focus",function(){h.on("keydown",k)}),h.on("blur",function(){h.unbind("keydown"),n()})}}}(jQuery,ko);