// knockout-delegatedEvents 0.1.2 | (c) 2013 Ryan Niemeyer |  http://www.opensource.org/licenses/mit-license
!function(a){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require("knockout"),exports):"function"==typeof define&&define.amd?define(["knockout","exports"],a):a(ko,ko.actions={})}(function(a,b){var c="ko_delegated_",d=function(d,e){return function(f){var g,h,i,j,k,l,m,n=f.target||f.srcElement,o=a.contextFor(n),p="data-"+d,q=c+d;if(o){for(;!h&&n;)h=n.getAttribute(p)||a.utils.domData.get(n,q),h||(n=n!==e?n.parentNode:null);h&&(o=a.contextFor(n),o&&(g=o.$data,"string"==typeof h?(h in b?(l=b[h],l&&(i="function"==typeof l?l:l.action,j=l.owner||g)):g&&g[h]&&"function"==typeof g[h]&&(i=g[h],j=g),i||(k=a.utils.arrayFirst(o.$parents,function(a){return a[h]&&"function"==typeof a[h]}),i=k&&k[h],j=k)):"function"==typeof h&&(i=h,j=g)),i&&(m=i.call(j,g,f),m!==!0&&(f.preventDefault?f.preventDefault():f.returnValue=!1)))}}},e=function(b){var d;b&&(d="delegated"+b.substr(0,1).toUpperCase()+b.slice(1)),a.bindingHandlers[d]||(a.bindingHandlers[d]={init:function(d,e){var f=e();a.utils.domData.set(d,c+b,f)}})};a.bindingHandlers.delegatedHandler={init:function(b,c){var f=a.utils.unwrapObservable(c())||[];"string"==typeof f&&(f=[f]),a.utils.arrayForEach(f,function(c){e(c),a.utils.registerEventHandler(b,c,d(c,b))})}}});